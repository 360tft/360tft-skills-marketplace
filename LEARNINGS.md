# Learnings

Auto-generated by nightly compound review. Read by Claude Code at session start.

## 2026-03-01

### Patterns
- Shareable stats cards with html2canvas-pro for PNG download (hero 1200x630 + breakdown 1080x1080) — two sizes cover Twitter/OG cards and Instagram square format in one component
- Post Bridge install method split (MCP / OpenClaw / Web) as the standard pattern for developer onboarding — three distinct entry point cards reduce cognitive load vs a single long instruction page
- Security scan module (src/lib/security-scan.ts) for submitted tools — automated risk scoring before listing tools in the marketplace protects users from malicious submissions
- Developer tier colours in admin (builder/scale/enterprise) — visual distinction in the admin panel makes it immediately clear which tier each developer is on

### Decisions
- Developer platform features shipped: Stripe developer checkout, API key tier support, sponsored listings webhook — infrastructure ready for developer monetisation alongside consumer marketplace
- MCP page rewritten with outcome-first language — leads with what the tools DO, not how they're installed technically
- PRD docs split clearly: PRODUCT-MCP-BOLT-ON-INSTRUCTIONS.md for per-app integration, PRD-AI-FOOTBALL-DEVELOPER-PLATFORM.md for marketplace-level developer features

## 2026-02-28

### Patterns
- API bolt-on as a per-app subscription, not marketplace-wide — a FootballGPT API key doesn't give access to RefereeGPT's API. Each product manages its own keys, usage tracking, and billing independently
- Split architecture for API access: marketplace (AI Football) handles discovery and documentation, individual apps handle authentication, rate limiting, and billing — keeps the per-app code self-contained
- PRDs generated per-repo for each app's API bolt-on — prevents scope confusion between marketplace infrastructure work and per-app integration work
- Developer tier pricing must protect profit margins on AI API costs — 100 calls/day at $4.99 is safe, but heavy developer usage at 5,000+ calls/day needs pricing that covers worst-case token costs per call

### Decisions
- API bolt-on pricing: $4.99/month individual (100 calls/day), developer tiers at $29.99 (1,000), $99.99 (5,000), $299.99 (unlimited) — margins validated against estimated AI API cost per call
- Individual bolt-on is separate from in-app usage — if a user has Pro and API access, their 100 daily API calls don't count against their in-app message limit
- Each app gets its own PRD-API-BOLT-ON.md with product-specific details (endpoints, use cases, example payloads) — standardised structure but product-specific content

## 2026-02-27

### Patterns
- Two distinct email drip sequences (creator vs consumer) convert better than one generic sequence — creators need validation that listing is worthwhile, consumers need tool discovery and usage tips
- Reviews with a structured rubric (accuracy, usefulness, response quality, value) give actionable feedback to creators and credible ratings to consumers — free-text reviews alone don't provide comparable signals
- Sponsored listings with Stripe subscriptions as the first monetisation layer for a free directory — creators list free, sponsors pay for visibility
- Notion as a hosted cheat sheet platform for lead magnets — cheaper than custom hosting, already has sharing/embedding, and Kevin has existing workspaces

### Gotchas
- RLS policies must be created with DROP IF EXISTS before CREATE to avoid 42710 errors — same pattern as every other product, still gets missed on new tables
- Try-tool rate limiting (2 tries per tool per user) is essential to prevent free abuse of API credits — without it, anonymous users can make unlimited calls to paid product APIs

### Decisions
- Branding aligned to "AI Football" with 360TFT attribution in footer — consistent with other products in the ecosystem
- Email capture wired up with separate creator and consumer drip sequences — two different audiences need different nurture paths
- Sponsored listings shipped with Stripe subscription billing — first revenue mechanism before per-use pricing
- Content tools (guides, tutorials, documentation) added as a tool category alongside MCPs and skills

## 2026-02-26

### Patterns
- MCP/skills marketplace positioning: "first football AI skills marketplace" targets a niche before the broader AI marketplace space gets crowded — being early in a specific vertical beats being late in a general one
- Free-to-list with per-use monetisation (users pay, not creators) removes the creator acquisition barrier — creators won't list on a marketplace that charges them when distribution is uncertain

### Decisions
- Free to list for creators, charge users for access — removes friction for getting tools listed while generating revenue from consumption
- PRD updated with full task list including migration to dedicated Hetzner server — scope is now clearly defined for build phase
- Marketplace will allow listing of MCPs, skills, and custom tools — not just one format, supporting the emerging ecosystem of AI tool types
